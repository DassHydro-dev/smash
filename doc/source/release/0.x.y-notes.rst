.. _release_notes.0.x.y:

.. currentmodule:: smash

=========================
smash 0.x.y Release Notes
=========================

The smash 0.x.y release continues the ongoing work to improve the handling, fix possible bugs, clarify the documentation. The highlights are:

---------------
Compatibilities
---------------

------------
Deprecations
------------

Makefile command
****************

The ``baseline_test`` makefile command has been deprecated and replaced by ``test_baseline``.

------------
Improvements
------------

BayesResult object
******************

The key ``Mahalanobis_distance`` in the attribute ``l_curve`` of :class:`smash.BayesResult` object 
has been changed to a shortened name ``mahal_dist``.

It can be used as follows:

.. code-block:: python

    >>> br = model.bayes_estimate(k=range(5), inplace=True, return_br=True)
    >>> br.l_curve["mahal_dist"]

instead of:

.. code-block:: python

    >>> br.l_curve["Mahalanobis_distance"]

Pipeline stage
**************

The pipeline stage ``build-tap`` has been renamed to ``tap-cmp`` and updated allowing a comparison between the source tapenade file and the new regenerated one.
If an error occurs during this stage, it means that the source tapenade file has not been regenerated.

------------
New Features
------------

Regularization with full distributed mapping
********************************************

The regularization terms have been added for the optimization with a distributed mapping. 
Two types of regularization function are considered, which are ``prior`` and ``smoothing``.

It can be used as follows:

.. code-block:: python

    >>> model.optimize(mapping="distributed", options={"jreg_fun": "smoothing"})

Makefile command
****************

3 news makefile commands are available:

- ``tap_cmp``: compare source tapenade file with new regenerated one,
- ``doc``: generate sphinx documentation,
- ``doc_clean``: clean sphinx documentation.

-----
Fixes
-----
