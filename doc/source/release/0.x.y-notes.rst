.. _release_notes.0.x.y:

.. currentmodule:: smash

=========================
smash 0.x.y Release Notes
=========================

The smash 0.x.y release continues the ongoing work to improve the handling, fix possible bugs, clarify the documentation. The highlights are:

---------------
Compatibilities
---------------

------------
Improvements
------------

Return of generated samples
***************************

The :meth:`smash.generate_samples` method now returns an instance of the :class:`smash.SampleResult` object instead of a pandas.DataFrame. 

It can be used as follows:

.. code-block:: python

    >>> problem = {'num_vars': 1, 'names': ['cp'], 'bounds': [[1,2000]]}
    >>> sr = smash.generate_samples(problem)
    >>> sr.cp

Bayesian optimization
*********************

The :meth:`Model.bayes_estimate` and :meth:`Model.bayes_optimize` methods now allow you to define an instance of 
the :class:`smash.SampleResult` object for generating samples. As a result, we have removed all arguments related to sample generation from both methods.

It can be use as follows:

.. code-block:: python

    >>> problem = {'num_vars': 1, 'names': ['cp'], 'bounds': [[1,2000]]}
    >>> sr = smash.generate_samples(problem)
    >>> model.bayes_estimate(sample=sr)

------------
New Features
------------

Conversion of Result objects
****************************

We have added additional methods to some Result objects, which are:

- :meth:`PrcpIndicesResult.to_numpy` for the :class:`PrcpIndicesResult` object.
- :meth:`SampleResult.to_numpy` and :meth:`SampleResult.to_dataframe` for the :class:`SampleResult` object.

It can be used as follows:

.. code-block:: python

    >>> problem = {'num_vars': 1, 'names': ['cp'], 'bounds': [[1,2000]]}
    >>> sr = smash.generate_samples(problem)  # create a SampleResult object
    >>> sr.to_numpy()  # convert to numpy array
    >>> sr.to_dataframe()  # convert to pandas dataframe  

-----
Fixes
-----

Regularization parameter name
*****************************

The name of the regularization parameter in the :meth:`Model.bayes_estimate` and :meth:`Model.bayes_optimize` methods has been changed from ``k`` to ``alpha``. 

It can be used as follows:

.. code-block:: python

    >>> model.bayes_optimize(alpha=2)

instead of:

.. code-block:: python

    >>> model.bayes_optimize(k=2)

BayesResult object
******************

The key ``Mahalanobis_distance`` in the attribute ``l_curve`` of :class:`smash.BayesResult` object 
has been changed to a shortened name ``mahal_dist``.

It can be used as follows:

.. code-block:: python

    >>> br = model.bayes_estimate(alpha=range(5), inplace=True, return_br=True)
    >>> br.l_curve["mahal_dist"]

instead of:

.. code-block:: python

    >>> br.l_curve["Mahalanobis_distance"]
