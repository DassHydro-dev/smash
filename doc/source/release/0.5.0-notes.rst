.. _release.0.5.0-notes:

.. currentmodule:: smash

=========================
smash 0.5.0 Release Notes
=========================

The smash 0.5.0 release continues the ongoing work to improve the handling, fix possible bugs, clarify the documentation. The highlights are:

------------
Contributors
------------

This release was made possible thanks to the contributions of:

---------------
Compatibilities
---------------

------------
Deprecations
------------

BayesResult object
******************

The ``density`` attribute of the :class:`smash.BayesResult` object has been deprecated in preparation for the upcoming release 1.0.0. 
The other two attributes, ``data`` and ``lcurve``, are still available and can be used for further analysis. 

------------
Improvements
------------

------------
New Features
------------

Spatial disaggregation/aggregation of the input raster
******************************************************

If the resolution of the input raster is different from the resolution of the model mesh, the input rasters are automatically reprojected by gdal. In that case the reading of the input can be slower. For best performances, it can be useful to preprocess the input files (precipitations). See the :ref:`API Reference <api_reference.raster_handler>` section. 
-----
Fixes
-----

Boundary conditions checking
****************************

The boundary condition checking previously used a tolerance of 1e-6, which caused issues in certain cases due to machine precision when passing from Python to Fortran via the f90wrapper.
To address this problem, the tolerance has been decreased to 1e-3.

See issue `#23 <https://github.com/DassHydro-dev/smash/issues/23>`__.

Event signatures computation
****************************

The bug related to the computation of flood event signatures has been resolved for specific cases where the peak event is observed during the last time steps in the time window.

See issue `#28 <https://github.com/DassHydro-dev/smash/issues/28>`__.